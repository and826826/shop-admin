(function(e){function t(t){for(var a,o,i=t[0],l=t[1],c=t[2],d=0,m=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,i=1;i<r.length;i++){var l=r[i];0!==n[l]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={app:0},s=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/shop-admin/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"150b":function(e,t,r){},"2bda":function(e,t,r){"use strict";var a=r("754b"),n=r.n(a);n.a},"3fa9":function(e,t,r){"use strict";var a=r("d70a"),n=r.n(a);n.a},4694:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("99af"),r("4de4"),r("4d90"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var a,n,s=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},i=[],l={name:"app",components:{}},c=l,u=r("2877"),d=Object(u["a"])(c,o,i,!1,null,null,null),m=d.exports,p=r("8c4f"),f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"background"},[r("div",{staticClass:"login-bk"},[r("login",{staticClass:"login"})],1)])},g=[],b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("el-form",{ref:"login-form",attrs:{model:e.user,rules:e.rules,"label-width":"80px",size:"medium"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{staticStyle:{margin:"20px 0"},attrs:{"prefix-icon":"el-icon-user",placeholder:"请输入用户名"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{staticStyle:{margin:"20px 0"},attrs:{"prefix-icon":"el-icon-lock",placeholder:"请输入密码",type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("登录")]),r("el-button",{on:{click:e.clear}},[e._v("重置")])],1)],1)],1)},h=[],v=(r("96cf"),r("1da1")),w={name:"login",data:function(){return{user:{username:"admin",password:"123456"},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 10个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{onSubmit:function(){var e=this;this.$refs["login-form"].validate(function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=14;break}return t.next=3,e.$http.post("login",e.user);case 3:if(a=t.sent,n=a.data,200==n.meta.status){t.next=8;break}return e.$message.error("登录失败"),t.abrupt("return");case 8:console.log(n),e.$message({message:"登录成功",type:"success"}),window.sessionStorage.setItem("token",n.data.token),e.$router.push("/home"),t.next=16;break;case 14:return console.log("error submit!!"),t.abrupt("return",!1);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},clear:function(){this.$refs["login-form"].resetFields()}}},x=w,k=(r("2bda"),Object(u["a"])(x,b,h,!1,null,"0ac98e40",null)),y=k.exports,_={name:"Login",components:{login:y}},$=_,C=(r("3fa9"),Object(u["a"])($,f,g,!1,null,"46e100b0",null)),R=C.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",[r("el-header",[e._v("商城后台管理系统 "),r("el-button",{on:{click:e.logout}},[e._v("用户退出")])],1),r("el-container",[r("el-aside",{attrs:{width:e.isCollapse?"100px":"250px"}},[r("i",{staticClass:"el-icon-s-help",staticStyle:{margin:"0 30%"},on:{click:e.change}}),r("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.$route.path,collapse:e.isCollapse,"unique-opened":"",router:""},on:{open:e.handleOpen,close:e.handleClose}},e._l(e.menu.data,(function(t){return r("el-submenu",{key:t.id,attrs:{index:"/"+t.path}},[r("template",{slot:"title"},[r("i",{class:e.icons[t.id+""]}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.authName))])]),e._l(t.children,(function(t){return r("el-menu-item",{key:t.id,attrs:{index:"/"+t.path}},[[r("i",{staticClass:"el-icon-menu"}),e._v(" "+e._s(t.authName)+" ")]],2)}))],2)})),1)],1),r("el-main",[r("router-view")],1)],1)],1)},j=[],V={name:"Home",components:{},data:function(){return{isCollapse:!1,menu:[],icons:{125:"el-icon-user",103:"el-icon-s-grid",101:"el-icon-s-shop",102:"el-icon-s-claim",145:"el-icon-s-data"}}},created:function(){this.getlist()},methods:{getlist:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("menus");case 2:r=t.sent,a=r.data,console.log(a),e.menu=a;case 6:case"end":return t.stop()}}),t)})))()},logout:function(){window.sessionStorage.clear(),this.$router.push("/login")},change:function(){console.log("true"),this.isCollapse=!this.isCollapse},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)}}},S=V,z=(r("6977"),Object(u["a"])(S,O,j,!1,null,"4cc7b0c1",null)),q=z.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",[e._v("welcom")])},E=[],N={},F=Object(u["a"])(N,D,E,!1,null,null,null),T=F.exports,I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("用户管理")]),r("el-breadcrumb-item",[e._v("用户列表")])],1),[r("el-button",{on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加用户")]),r("el-dialog",{attrs:{title:"添加",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.handleClose}},[r("el-form",{ref:"addform",staticClass:"demo-ruleForm",attrs:{model:e.user,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),r("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[r("el-input",{model:{value:e.user.mobile,callback:function(t){e.$set(e.user,"mobile",t)},expression:"user.mobile"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.adduser}},[e._v("确 定")])],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.filter((function(t){return!e.search||t.username.toLowerCase().includes(e.search.toLowerCase())}))}},[r("el-table-column",{attrs:{label:"姓名",prop:"username"}}),r("el-table-column",{attrs:{label:"邮箱",prop:"email"}}),r("el-table-column",{attrs:{label:"电话",prop:"mobile"}}),r("el-table-column",{attrs:{label:"角色",prop:"role_name"}}),r("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(r){return e.statechange(t.row)}},model:{value:t.row.mg_state,callback:function(r){e.$set(t.row,"mg_state",r)},expression:"scope.row.mg_state"}})]}}])}),r("el-table-column",{attrs:{align:"left",width:"200px"},scopedSlots:e._u([{key:"header",fn:function(t){return[r("el-input",{attrs:{size:"mini",placeholder:"输入姓名搜索",m:t},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.handleEdit(t.row.id)}}},[r("i",{staticClass:"el-icon-edit"})]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.handleDelete(t.row.id)}}},[r("i",{staticClass:"el-icon-delete"})]),r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.handleConfig(t.row)}}},[r("i",{staticClass:"el-icon-setting"})])]}}])})],1),r("div",{staticClass:"block"},[r("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-size":e.queryInfo.pagesize,layout:"prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.queryInfo,"pagenum",t)},"update:current-page":function(t){return e.$set(e.queryInfo,"pagenum",t)}}})],1),r("el-dialog",{attrs:{title:"修改用户",visible:e.editVisible,width:"30%"},on:{"update:visible":function(t){e.editVisible=t},close:e.editclose}},[r("el-form",{ref:"editForm",staticClass:"demo-ruleForm",attrs:{model:e.editform,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{disabled:""},model:{value:e.editform.username,callback:function(t){e.$set(e.editform,"username",t)},expression:"editform.username"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.editform.email,callback:function(t){e.$set(e.editform,"email",t)},expression:"editform.email"}})],1),r("el-form-item",{attrs:{label:"电话",prop:"mobile"}},[r("el-input",{model:{value:e.editform.mobile,callback:function(t){e.$set(e.editform,"mobile",t)},expression:"editform.mobile"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.edituser()}}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"分配角色",visible:e.userroleVisible,width:"30%"},on:{"update:visible":function(t){e.userroleVisible=t}}},[r("div",[r("p",[e._v("当前用户："+e._s(e.userrole.username))]),r("p",[e._v("当前角色："+e._s(e.userrole.role_name))]),r("p",[e._v("分配新角色： "),r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}},e._l(e.roles,(function(e){return r("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})})),1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.userroleVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.edituserrole()}}},[e._v("确 定")])],1)])])]],2)},B=[],P={data:function(){return{tableData:[],search:"",queryInfo:{query:"",pagenum:1,pagesize:3},total:0,dialogVisible:!1,editVisible:!1,userroleVisible:!1,userrole:{},role:"",roles:{},editform:{},user:{username:"",password:"",email:"",mobile:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:10,message:"长度在3到10之间",trigger:"blur"}],email:[{type:"email",required:!0,message:"请输入正确的邮箱",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号码",trigger:"blur"}]}}},created:function(){this.getuserlist()},methods:{getuserlist:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("users",{params:e.queryInfo});case 2:if(r=t.sent,a=r.data,200==a.meta.status){t.next=6;break}return t.abrupt("return",e.$message("获取用户失败"));case 6:console.log(a),e.tableData=a.data.users,e.total=a.data.total;case 9:case"end":return t.stop()}}),t)})))()},statechange:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$http.put("users/".concat(e.id,"/state/").concat(e.mg_state));case 2:if(a=r.sent,n=a.data,200==n.meta.status){r.next=7;break}return e.mg_state=!e.mg_state,r.abrupt("return",t.$message.error("修改失败"));case 7:return r.abrupt("return",t.$message.success("修改成功"));case 8:case"end":return r.stop()}}),r)})))()},adduser:function(){var e=this;this.$refs.addform.validate(function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=11;break}return t.next=3,e.$http.post("users",e.user);case 3:if(a=t.sent,n=a.data,console.log(n),201==n.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("添加失败"));case 8:e.$message.success("添加成功"),e.dialogVisible=!1,e.getuserlist();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handleClose:function(){this.$refs["addform"].resetFields()},editclose:function(){this.$refs.editForm.resetFields()},handleEdit:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$http.get("users/".concat(e));case 2:a=r.sent,n=a.data,t.editform=n.data,t.editVisible=!0;case 6:case"end":return r.stop()}}),r)})))()},handleDelete:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(){t.$message({type:"info",message:"已取消删除"})}));case 2:if(a=r.sent,"confirm"!=a){r.next=12;break}return r.next=6,t.$http.delete("users/".concat(e));case 6:if(n=r.sent,s=n.data,200==s.meta.status){r.next=10;break}return r.abrupt("return",t.$message.error("删除失败"));case 10:t.$message.success("删除成功"),t.getuserlist();case 12:case"end":return r.stop()}}),r)})))()},handleSizeChange:function(e){console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){this.queryInfo.pagenum=e,console.log(this.queryInfo.pagenum),this.getuserlist()},edituser:function(){var e=this;this.$refs.editForm.validate(function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=10;break}return t.next=3,e.$http.put("users/".concat(e.editform.id),{email:e.editform.email,mobile:e.editform.mobile});case 3:if(a=t.sent,n=a.data,200==n.meta.status){t.next=7;break}return t.abrupt("return",e.$message.erro("修改失败"));case 7:e.$message.success("修改成功"),e.editVisible=!1,e.getuserlist();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getuserroles:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("roles");case 2:if(r=t.sent,a=r.data,200==a.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("获取角色失败"));case 6:e.roles=a.data,console.log(e.roles);case 8:case"end":return t.stop()}}),t)})))()},handleConfig:function(e){this.userrole=e,this.getuserroles(),this.userroleVisible=!0},edituserrole:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.role),e.role){t.next=3;break}return t.abrupt("return",e.$message.error("修改角色失败"));case 3:return t.next=5,e.$http.put("users/".concat(e.userrole.id,"/role"),{rid:e.role});case 5:if(r=t.sent,a=r.data,console.log(a),200==a.meta.status){t.next=10;break}return t.abrupt("return",e.$message.error("修改角色失败"));case 10:e.$message.success("修改角色成功"),e.userroleVisible=!1,e.getuserlist();case 13:case"end":return t.stop()}}),t)})))()}}},L=P,M=Object(u["a"])(L,I,B,!1,null,null,null),A=M.exports,H=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{width:"600px",height:"400px"},attrs:{id:"main"}})},J=[],K=r("313e"),G=r.n(K),U=r("2ef0"),Y=r.n(U),Q={data:function(){return{options:{title:{text:"用户来源"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#E9EEF3"}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{boundaryGap:!1}],yAxis:[{type:"value"}]}}},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=G.a.init(document.getElementById("main")),t.next=3,e.$http.get("reports/type/1");case 3:if(a=t.sent,n=a.data,console.log(n,r),200==n.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("获取数据失败"));case 8:s=Y.a.merge(n.data,e.options),r.setOption(s);case 10:case"end":return t.stop()}}),t)})))()}},W=Q,X=Object(u["a"])(W,H,J,!1,null,"4e9c38e4",null),Z=X.exports,ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-button",{attrs:{type:"primary"}},[e._v("添加角色")]),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.children,(function(a){return r("el-row",{key:a.id},[r("el-col",{attrs:{span:5}},[r("el-tag",{attrs:{closable:""},on:{close:function(r){return e.handleClose(t.row,a.id)}}},[e._v(e._s(a.authName))]),r("i",{staticClass:"el-icon-right"})],1),r("el-col",{attrs:{span:19}},e._l(a.children,(function(a){return r("el-row",{key:a.id},[r("el-col",{attrs:{span:6}},[r("el-tag",{attrs:{type:"success",closable:""},on:{close:function(r){return e.handleClose(t.row,a.id)}}},[e._v(e._s(a.authName))]),r("i",{staticClass:"el-icon-right"})],1),r("el-col",{attrs:{span:18}},e._l(a.children,(function(a){return r("el-tag",{key:a.id,attrs:{type:"warning",closable:""},on:{close:function(r){return e.handleClose(t.row,a.id)}}},[e._v(" "+e._s(a.authName)+" ")])})),1)],1)})),1)],1)}))}}])}),r("el-table-column",{attrs:{type:"index",width:"50"}}),r("el-table-column",{attrs:{prop:"roleName",label:"角色名称",width:"180"}}),r("el-table-column",{attrs:{prop:"roleDesc",label:"角色描述",width:"180"}}),r("el-table-column",{attrs:{prop:"address",label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.handleEdit(t.row.id)}}},[r("i",{staticClass:"el-icon-edit"})]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.handleDelete(t.row.id)}}},[r("i",{staticClass:"el-icon-delete"})]),r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.handleConfig(t.row)}}},[r("i",{staticClass:"el-icon-setting"})])]}}])})],1),r("el-dialog",{attrs:{title:"修改角色",visible:e.roleformVisible,width:"30%"},on:{"update:visible":function(t){e.roleformVisible=t}}},[r("span",[r("el-form",{ref:"roleForm",staticClass:"demo-ruleForm",attrs:{model:e.roleform,rules:e.editrules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[r("el-input",{model:{value:e.roleform.roleName,callback:function(t){e.$set(e.roleform,"roleName",t)},expression:"roleform.roleName"}})],1),r("el-form-item",{attrs:{label:"角色描述",prop:"roleDesc"}},[r("el-input",{model:{value:e.roleform.roleDesc,callback:function(t){e.$set(e.roleform,"roleDesc",t)},expression:"roleform.roleDesc"}})],1)],1),r("el-button",{on:{click:function(t){e.roleformVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.putEdit}},[e._v("确 定")])],1)]),r("el-dialog",{attrs:{title:"修改角色",visible:e.roletreeVisible,width:"30%"},on:{"update:visible":function(t){e.roletreeVisible=t},close:e.clear}},[r("span",[r("el-tree",{ref:"tree",attrs:{data:e.roletree,"show-checkbox":"","node-key":"id","default-expanded-keys":[2,3],"default-checked-keys":e.selected,props:e.defaultProps,"default-expand-all":""}}),r("el-button",{on:{click:function(t){e.roletreeVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.putrolerights}},[e._v("确 定")])],1)])],1)},te=[],re=(r("4160"),r("a15b"),r("159b"),r("2909")),ae={data:function(){return{tableData:[],roleform:{roleId:"",roleName:"",roleDesc:""},roletree:{},roleformVisible:!1,roletreeVisible:!1,selected:[],roleid:0,defaultProps:{children:"children",label:"authName"},editrules:{rolename:[{required:!0,message:"请输入用户名",trigger:"blur"}],roleDesc:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{putrolerights:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=[].concat(Object(re["a"])(e.$refs.tree.getHalfCheckedKeys()),Object(re["a"])(e.$refs.tree.getCheckedKeys())),a=r.join(","),console.log(a,e.roleid),t.next=5,e.$http.post("roles/".concat(e.roleid,"/rights"),{rids:a});case 5:if(n=t.sent,s=n.data,200==s.meta.status){t.next=9;break}return t.abrupt("return",e.$message.error("修改失败"));case 9:e.$message.success("修改成功"),e.getrolelist(),e.roletreeVisible=!1;case 12:case"end":return t.stop()}}),t)})))()},clear:function(){this.selected=[]},handleConfig:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$http.get("rights/tree");case 2:a=r.sent,n=a.data,t.roletree=n.data,t.roleid=e.id,t.selectrights(e,t.selected),console.log(t.selected),t.roletreeVisible=!0;case 9:case"end":return r.stop()}}),r)})))()},selectrights:function(e,t){var r=this;if(!e.children)return t.push(e.id);e.children.forEach((function(e){r.selectrights(e,t)}))},handleClose:function(e,t){var r=this;return Object(v["a"])(regeneratorRuntime.mark((function a(){var n,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e,t),a.next=3,r.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 3:if(n=a.sent,"confirm"!=n){a.next=13;break}return a.next=7,r.$http.delete("roles/".concat(e.id,"/rights/").concat(t));case 7:if(s=a.sent,o=s.data,console.log(o),200==o.meta.status){a.next=12;break}return a.abrupt("return",r.$message.error("删除失败"));case 12:e.children=o.data;case 13:case"end":return a.stop()}}),a)})))()},handleDelete:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e),r.next=3,t.$confirm("此操作将永久删除该角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(){t.$message({type:"info",message:"已取消删除"})}));case 3:if(a=r.sent,"confirm"!=a){r.next=14;break}return r.next=7,t.$http.delete("roles/".concat(e));case 7:if(n=r.sent,s=n.data,console.log(s),200==s.meta.status){r.next=12;break}return r.abrupt("return",t.$message.error("删除失败"));case 12:t.$message.success("删除成功"),t.getrolelist();case 14:case"end":return r.stop()}}),r)})))()},getrolelist:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("roles");case 2:if(r=t.sent,a=r.data,200==a.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("获取角色列表失败"));case 6:console.log(a),e.tableData=a.data;case 8:case"end":return t.stop()}}),t)})))()},handleEdit:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$http.get("roles/".concat(e));case 2:if(a=r.sent,n=a.data,200==n.meta.status){r.next=6;break}return r.abrupt("return",t.$message.error("获取该角色失败"));case 6:t.roleform=n.data,console.log(t.roleform),t.roleformVisible=!0;case 9:case"end":return r.stop()}}),r)})))()},putEdit:function(){var e=this;this.$refs.roleForm.validate(function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=10;break}return t.next=3,e.$http.put("roles/".concat(e.roleform.roleId),{roleName:e.roleform.roleName,roleDesc:e.roleform.roleDesc});case 3:if(a=t.sent,n=a.data,200==n.meta.status){t.next=7;break}return t.abrupt("return",e.$message.error("修改失败"));case 7:e.$message.success("修改成功"),e.roleformVisible=!1,e.getrolelist();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},created:function(){this.getrolelist()}},ne=ae,se=(r("9676"),Object(u["a"])(ne,ee,te,!1,null,"05726f00",null)),oe=se.exports,ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[r("el-table-column",{attrs:{type:"index",width:"50"}}),r("el-table-column",{attrs:{prop:"authName",label:"权限名称",width:"180"}}),r("el-table-column",{attrs:{prop:"path",label:"路径",width:"180"}}),r("el-table-column",{attrs:{prop:"level",label:"权限等级"}})],1)},le=[],ce={data:function(){return{tableData:[]}},created:function(){this.getpermissonlist()},methods:{getpermissonlist:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rights/list");case 2:if(r=t.sent,a=r.data,200==a.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("获取权限列表失败"));case 6:e.tableData=a.data;case 7:case"end":return t.stop()}}),t)})))()}}},ue=ce,de=Object(u["a"])(ue,ie,le,!1,null,null,null),me=de.exports,pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getlist},model:{value:e.goodsquery.query,callback:function(t){e.$set(e.goodsquery,"query",t)},expression:"goodsquery.query"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getlist},slot:"append"})],1),r("el-button",{on:{click:e.addgoods}},[e._v("添加商品")]),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tabledata,border:""}},[r("el-table-column",{attrs:{type:"index",width:"50"}}),r("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:"180"}}),r("el-table-column",{attrs:{prop:"goods_price",label:"商品价格",width:"180"}}),r("el-table-column",{attrs:{prop:"goods_weight",label:"商品重量"}}),r("el-table-column",{attrs:{prop:"add_time",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("dataFormat")(t.row.add_time))+" ")]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return e.handleedit(t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(r){return e.handledelete(t.row.goods_id)}}},[e._v("删除")])]}}])})],1),r("div",{staticClass:"block"},[r("el-pagination",{attrs:{"page-sizes":[10,20,30,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},fe=[],ge={data:function(){return{tabledata:[],goodsquery:{query:"",pagenum:1,pagesize:"10"},total:0}},created:function(){this.getlist()},methods:{handleSizeChange:function(e){this.goodsquery.pagesize=e,this.getlist()},handleCurrentChange:function(e){this.goodsquery.pagenum=e,this.getlist()},getlist:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("qqq"),t.next=3,e.$http.get("goods",{params:e.goodsquery});case 3:if(r=t.sent,a=r.data,200==a.meta.status){t.next=7;break}return t.abrupt("return",e.$message.error("获取商品失败"));case 7:e.tabledata=a.data.goods,e.total=a.data.total,console.log(a),console.log(e.total);case 11:case"end":return t.stop()}}),t)})))()},handleedit:function(){},handledelete:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e),r.next=3,t.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 3:if(a=r.sent,console.log(a),"confirm"!=a){r.next=15;break}return r.next=8,t.$http.delete("goods/".concat(e));case 8:if(n=r.sent,s=n.data,console.log(s),200==s.meta.status){r.next=13;break}return r.abrupt("return",t.$message.error("删除失败"));case 13:t.$message.success("删除成功"),t.getlist();case 15:case"end":return r.stop()}}),r)})))()},addgoods:function(){this.$router.push("/goods/add")}}},be=ge,he=Object(u["a"])(be,pe,fe,!1,null,null,null),ve=he.exports,we=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-alert",{attrs:{title:"只能选中三级分类",type:"warning","show-icon":"",closable:!1}}),r("el-row",[r("el-col",[r("span",[e._v(" 选择商品分类")]),r("div",{staticClass:"block"},[r("span",{staticClass:"demonstration"},[e._v("单选选择任意一级选项")]),r("el-cascader",{attrs:{options:e.allcategories,props:{value:"cat_id",label:"cat_name",children:"children",expandTrigger:"hover",checkStrictly:!0},clearable:""},on:{change:e.handlechange},model:{value:e.choosecategories,callback:function(t){e.choosecategories=t},expression:"choosecategories"}})],1)])],1),r("el-row",[r("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"动态参数",name:"many"}},[r("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isdisable},on:{click:e.handleadd}},[e._v("添加参数")]),r("el-table",{attrs:{data:e.manydata,border:"",stripe:""}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.attr_vals)+" ")]}}])}),r("el-table-column",{attrs:{type:"index"}}),r("el-table-column",{attrs:{label:"参数名称",prop:"attr_name"}}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(r){return e.handleedit(t.row)}}},[e._v(" 编辑 ")]),r("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-edit"},on:{click:function(r){return e.handledelete(t.row)}}},[e._v(" 删除 ")])]}}])})],1)],1),r("el-tab-pane",{attrs:{label:"添加属性",name:"only"}},[r("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isdisable},on:{click:e.handleadd}},[e._v("添加属性")]),r("el-table",{attrs:{data:e.onlydata,border:"",stripe:""}},[r("el-table-column",{attrs:{type:"expand"}}),r("el-table-column",{attrs:{type:"index"}}),r("el-table-column",{attrs:{label:"参数名称",prop:"attr_name"}}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(r){return e.handleedit(t.row)}}},[e._v(" 编辑 ")]),r("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-edit"},on:{click:function(r){return e.handledelete(t.row)}}},[e._v(" 删除 ")])]}}])})],1)],1)],1)],1),r("el-dialog",{attrs:{title:"添加"+e.titletext,visible:e.adddialogVisible,width:"30%"},on:{"update:visible":function(t){e.adddialogVisible=t}}},[r("el-form",{ref:"addValidateForm",staticClass:"demo-ruleForm",attrs:{model:e.addfrom,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"参数名",prop:"attr_name",rules:[{required:!0,message:"参数名不能为空",trigger:"blur"}]}},[r("el-input",{model:{value:e.addfrom.attr_name,callback:function(t){e.$set(e.addfrom,"attr_name",t)},expression:"addfrom.attr_name"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.adddialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.addparams}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"修改"+e.titletext,visible:e.editVisible,width:"50%"},on:{"update:visible":function(t){e.editVisible=t}}},[r("el-form",{ref:"editform",attrs:{model:e.editfrom}},[r("el-form-item",{attrs:{label:e.titletext,prop:"attr_name"}},[r("el-input",{model:{value:e.editfrom.attr_name,callback:function(t){e.$set(e.editfrom,"attr_name",t)},expression:"editfrom.attr_name"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.editparams}},[e._v("确 定")])],1)],1)],1)},xe=[],ke={data:function(){return{allcategories:[],choosecategories:"",activeName:"many",manydata:[],onlydata:[],addfrom:{attr_name:""},editfrom:{attr_name:""},adddialogVisible:!1,editVisible:!1,addrule:{attr_name:[{required:!0,message:"不能为空",trigger:"blur"}]}}},created:function(){this.getcategories()},methods:{handledelete:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e.attr_id),console.log(t.choseid),r.next=4,t.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 4:if(a=r.sent,console.log(a),"confirm"!=a){r.next=16;break}return r.next=9,t.$http.delete("categories/".concat(t.choseid,"/attributes/").concat(e.attr_id));case 9:if(n=r.sent,s=n.data,console.log(s),200==s.meta.status){r.next=14;break}return r.abrupt("return",t.$message.error("删除失败"));case 14:t.$message.success("删除成功"),t.get();case 16:case"end":return r.stop()}}),r)})))()},editparams:function(){var e=this;this.$refs.editform.validate(function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.put("categories/".concat(e.choseid,"/attributes/").concat(e.editfrom.attr_id),e.editfrom);case 4:if(a=t.sent,n=a.data,console.log(n),200==n.meta.status){t.next=9;break}return t.abrupt("return",e.$message.error("修改失败"));case 9:e.$message.success("修改成功"),e.get(),e.editVisible=!1;case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},addparams:function(){var e=this;console.log("add"),this.$refs.addValidateForm.validate(function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(r),r){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.$http.post("categories/".concat(e.choseid,"/attributes"),{attr_name:e.addfrom.attr_name,attr_sel:e.activeName});case 5:if(a=t.sent,n=a.data,201==n.meta.status){t.next=9;break}return t.abrupt("return",e.$message.error("添加失败"));case 9:e.$message.success("添加成功"),e.get(),e.adddialogVisible=!1;case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),console.log("aaa"),this.addVisible=!1},handleedit:function(e){this.editfrom=e,this.editVisible=!0},handleClick:function(){this.get()},handlechange:function(){this.get()},get:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(3==e.choosecategories.length){t.next=3;break}return e.choosecategories=[],t.abrupt("return");case 3:return console.log(e.choosecategories),t.next=6,e.$http.get("categories/".concat(e.choseid,"/attributes"),{params:{sel:e.activeName}});case 6:r=t.sent,a=r.data,console.log(a),200!=a.meta.status&&e.$message.error("获取失败"),"many"==e.activeName?e.manydata=a.data:e.onlydata=a.data;case 11:case"end":return t.stop()}}),t)})))()},getcategories:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("categories");case 2:if(r=t.sent,a=r.data,200==a.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("获取商品分类失败"));case 6:e.allcategories=a.data;case 7:case"end":return t.stop()}}),t)})))()},handleadd:function(){this.adddialogVisible=!0},addclose:function(){this.$refs.addfromref.resetFields()}},computed:{isdisable:function(){return 3!=this.choosecategories.length},choseid:function(){return 3==this.choosecategories.length?this.choosecategories[2]:null},titletext:function(){return"many"==this.activeName?"动态参数":"静态参数"}}},ye=ke,_e=Object(u["a"])(ye,we,xe,!1,null,null,null),$e=_e.exports,Ce={},Re=Object(u["a"])(Ce,a,n,!1,null,null,null),Oe=Re.exports,je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-button",{attrs:{type:"primary"},on:{click:e.handleadd}},[e._v("添加分类")]),r("tree-table",{attrs:{data:e.tableData,columns:e.columns,"selection-type":!1,"expand-type":!1,"show-index":"",border:"","show-row-hover":!1},scopedSlots:e._u([{key:"isok",fn:function(e){return[0==e.row.cat_deleted?r("i",{staticClass:"el-icon-success",staticStyle:{color:"green"}}):r("i",{staticClass:"el-icon-error",staticStyle:{color:"red"}})]}},{key:"order",fn:function(t){return[0==t.row.cat_level?r("el-tag",[e._v("一级")]):1==t.row.cat_level?r("el-tag",[e._v("二级")]):r("el-tag",[e._v("三级")])]}},{key:"action",fn:function(t){return[r("el-button",{on:{click:function(r){return e.editcategory(t.row)}}},[e._v("编辑")]),r("el-button",{on:{click:function(r){return e.deletecategory(t.row.cat_id)}}},[e._v("删除")])]}}])}),r("div",{staticClass:"block"},[r("span",{staticClass:"demonstration"},[e._v("调整每页显示条数")]),r("el-pagination",{attrs:{"page-sizes":[5,10,15,20],"page-size":5,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),r("el-dialog",{attrs:{title:"修改分类",visible:e.editcategoriesVisible,width:"30%"},on:{"update:visible":function(t){e.editcategoriesVisible=t}}},[r("div",[r("el-form",{ref:"categoriesForm",staticClass:"demo-ruleForm",attrs:{rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[r("el-input",{model:{value:e.editcategories.cat_name,callback:function(t){e.$set(e.editcategories,"cat_name",t)},expression:"editcategories.cat_name"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.editcategoriesVisible=!1}}},[e._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.puteditcategories}},[e._v("确认")])],1)],1)],1)]),r("el-dialog",{attrs:{title:"分配角色",visible:e.addcategoriesVisible,width:"30%"},on:{"update:visible":function(t){e.addcategoriesVisible=t}}},[r("div",[r("el-form",{ref:"categoriesForm",staticClass:"demo-ruleForm",attrs:{rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[r("el-input",{model:{value:e.cat_name,callback:function(t){e.cat_name=t},expression:"cat_name"}})],1),r("el-form-item",{attrs:{label:"父级分类"}},[r("div",{staticClass:"block"},[r("el-cascader",{attrs:{clearable:!0,options:e.parent,props:{expandTrigger:"hover",value:"cat_id",label:"cat_name",checkStrictly:!0}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)]),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addcategoriesVisible=!1}}},[e._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.addcategories}},[e._v("确认")])],1)],1)],1)])],1)},Ve=[],Se={data:function(){return{tableData:[],categories:{type:3,pagenum:1,pagesize:5},rules:{},cat_name:"",addcategoriesVisible:!1,addcategory:{},editcategoriesVisible:!1,editcategories:{},parent:{},addcat:{cat_name:"",cat_pid:0,cat_level:0},value:[],total:0,columns:[{label:"分类名称",prop:"cat_name"},{label:"是否有效",type:"template",template:"isok"},{label:"排序",type:"template",template:"order"},{label:"操作",type:"template",template:"action"}]}},created:function(){this.getcategories()},methods:{deletecategory:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$confirm("此操作将永久删除该分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(){t.$message({type:"info",message:"已取消删除"})}));case 2:if(a=r.sent,console.log(a,e),"confirm"!=a){r.next=14;break}return r.next=7,t.$http.delete("categories/".concat(e));case 7:if(n=r.sent,s=n.data,console.log(s),200==s.meta.status){r.next=12;break}return r.abrupt("return",t.$message.error("删除失败"));case 12:t.$message.success("删除成功"),t.getcategories();case 14:case"end":return r.stop()}}),r)})))()},editcategory:function(e){console.log(e.cat_name),this.editcategories=e,this.editcategoriesVisible=!0},puteditcategories:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.editcategories),!e.editcategories.cat_name){t.next=11;break}return t.next=4,e.$http.put("categories/".concat(e.editcategories.cat_id),e.editcategories);case 4:if(r=t.sent,a=r.data,200==a.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("修改失败"));case 8:e.$message.success("修改成功"),e.getcategories(),e.editcategoriesVisible=!1;case 11:case"end":return t.stop()}}),t)})))()},handleadd:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("categories",{params:{type:2}});case 2:if(r=t.sent,a=r.data,console.log(a),200==a.meta.status){t.next=7;break}return t.abrupt("return",e.$message.error("获取父级分类失败"));case 7:e.parent=a.data,e.addcategoriesVisible=!0;case 9:case"end":return t.stop()}}),t)})))()},addcategories:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.addcategory.cat_name=e.cat_name,e.value.length<1?(e.addcategory.cat_level=0,e.addcategory.cat_pid=0):(e.addcategory.cat_pid=e.value[e.value.length-1],e.addcategory.cat_level=e.value.length),console.log(e.value.length),console.log(e.value[e.value.length-1]),console.log(e.cat_name),t.next=7,e.$http.post("categories",e.addcategory);case 7:if(r=t.sent,a=r.data,201==a.meta.status){t.next=11;break}return t.abrupt("return",e.$message.error("添加失败"));case 11:e.$message.success("添加成功"),e.getcategories(),e.addcategoriesVisible=!1;case 14:case"end":return t.stop()}}),t)})))()},getcategories:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("categories",{params:e.categories});case 2:if(r=t.sent,a=r.data,console.log(a),200==a.meta.status){t.next=7;break}return t.abrupt("return",e.$message.error("获取失败"));case 7:e.tableData=a.data.result,e.total=a.data.total;case 9:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.categories.pagesize=e},handleCurrentChange:function(e){this.categories.pagenum=e,this.getcategories()}}},ze=Se,qe=Object(u["a"])(ze,je,Ve,!1,null,null,null),De=qe.exports,Ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-alert",{attrs:{title:"添加商品信息",type:"info",center:"",closable:!1}}),r("el-steps",{attrs:{space:200,active:e.active,"finish-status":"success"}},[r("el-step",{attrs:{title:"基本信息"}}),r("el-step",{attrs:{title:"商品参数"}}),r("el-step",{attrs:{title:"商品属性"}}),r("el-step",{attrs:{title:"商品图片"}}),r("el-step",{attrs:{title:"商品内容"}}),r("el-step",{attrs:{title:"完成"}})],1),r("el-form",{ref:"addform",attrs:{rules:e.rules,"label-position":"top"},model:{value:e.addform,callback:function(t){e.addform=t},expression:"addform"}},[r("el-tabs",{staticStyle:{height:"200px"},attrs:{"tab-position":"left"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[r("el-tab-pane",{attrs:{label:"基本信息",name:"0"}},[r("el-form-item",{attrs:{label:"商品名称",prop:"goodsname"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.addform.goodsname,callback:function(t){e.$set(e.addform,"goodsname",t)},expression:"addform.goodsname"}})],1)],1),r("el-tab-pane",{attrs:{label:"商品参数",name:"1"}},[e._v("配置管理")]),r("el-tab-pane",{attrs:{label:"商品属性",name:"2"}},[e._v("角色管理")]),r("el-tab-pane",{attrs:{label:"商品图片",name:"3"}},[e._v("定时任务补偿")]),r("el-tab-pane",{attrs:{label:"商品内容",name:"4"}},[e._v("角色管理")])],1)],1)],1)},Ne=[],Fe={data:function(){return{active:0,addform:{},rules:[]}}},Te=Fe,Ie=(r("851e"),Object(u["a"])(Te,Ee,Ne,!1,null,"7750f479",null)),Be=Ie.exports;s["default"].use(p["a"]);var Pe=[{path:"/login",name:"Login",component:R},{path:"/",redirect:"/login"},{path:"/home",component:q,redirect:"/welcome",children:[{path:"/welcome",component:T},{path:"/users",component:A},{path:"/roles",component:oe},{path:"/rights",component:me},{path:"/goods",component:ve},{path:"/params",component:$e},{path:"/categories",component:De},{path:"/orders",component:Oe},{path:"/reports",component:Z},{path:"/goods/add",component:Be}]}],Le=new p["a"]({mode:"history",base:"/shop-admin/",routes:Pe});Le.beforeEach((function(e,t,r){if("/login"==e.path)return r();var a=window.sessionStorage.getItem("token");if(!a)return r("/login");r()}));var Me=Le,Ae=r("2f62");s["default"].use(Ae["a"]);var He=new Ae["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Je=(r("9e1f"),r("450d"),r("6ed5")),Ke=r.n(Je),Ge=(r("0fb7"),r("f529")),Ue=r.n(Ge),Ye=(r("b84d"),r("c216")),Qe=r.n(Ye),We=(r("8f24"),r("76b9")),Xe=r.n(We),Ze=(r("3c52"),r("0d7b")),et=r.n(Ze),tt=(r("fe07"),r("6ac5")),rt=r.n(tt),at=(r("ce18"),r("f58e")),nt=r.n(at),st=(r("34db"),r("3803")),ot=r.n(st),it=(r("8bd8"),r("4cb2")),lt=r.n(it),ct=(r("4ca3"),r("443e")),ut=r.n(ct),dt=(r("de31"),r("c69e")),mt=r.n(dt),pt=(r("a769"),r("5cc3")),ft=r.n(pt),gt=(r("a673"),r("7b31")),bt=r.n(gt),ht=(r("adec"),r("3d2d")),vt=r.n(ht),wt=(r("aaa5"),r("a578")),xt=r.n(wt),kt=(r("10cb"),r("f3ad")),yt=r.n(kt),_t=(r("425f"),r("4105")),$t=r.n(_t),Ct=(r("eca7"),r("3787")),Rt=r.n(Ct),Ot=(r("1951"),r("eedf")),jt=r.n(Ot),Vt=(r("38a0"),r("ad41")),St=r.n(Vt),zt=(r("5466"),r("ecdf")),qt=r.n(zt),Dt=(r("e960"),r("b35b")),Et=r.n(Dt),Nt=(r("672e"),r("101e")),Ft=r.n(Nt),Tt=(r("a7cc"),r("df33")),It=r.n(Tt),Bt=(r("cbb5"),r("8bbc")),Pt=r.n(Bt),Lt=(r("f4f9"),r("c2cc")),Mt=r.n(Lt),At=(r("7a0f"),r("0f6c")),Ht=r.n(At),Jt=(r("5e32"),r("6721")),Kt=r.n(Jt),Gt=(r("1f1ab"),r("4e4b")),Ut=r.n(Gt),Yt=(r("6611"),r("e772")),Qt=r.n(Yt),Wt=(r("28b2"),r("c7ad")),Xt=r.n(Wt),Zt=(r("915d"),r("e04d")),er=r.n(Zt),tr=(r("e612"),r("dd87")),rr=r.n(tr),ar=(r("075a"),r("72aa")),nr=r.n(ar),sr=(r("d2ac"),r("95b0")),or=r.n(sr),ir=(r("9c49"),r("6640")),lr=r.n(ir);s["default"].use(lr.a),s["default"].use(or.a),s["default"].use(nr.a),s["default"].use(rr.a),s["default"].use(er.a),s["default"].use(Xt.a),s["default"].use(Qt.a),s["default"].use(Ut.a),s["default"].use(Kt.a),s["default"].use(Ht.a),s["default"].use(Mt.a),s["default"].use(Pt.a),s["default"].use(It.a),s["default"].use(Ft.a),s["default"].use(Et.a),s["default"].use(qt.a),s["default"].use(St.a),s["default"].use(jt.a),s["default"].use(Rt.a),s["default"].use($t.a),s["default"].use(yt.a),s["default"].use(xt.a),s["default"].use(vt.a),s["default"].use(bt.a),s["default"].use(ft.a),s["default"].use(mt.a),s["default"].use(ut.a),s["default"].use(lt.a),s["default"].use(ot.a),s["default"].use(nt.a),s["default"].use(rt.a),s["default"].use(et.a),s["default"].use(Xe.a),s["default"].use(Qe.a),s["default"].prototype.$message=Ue.a,s["default"].prototype.$confirm=Ke.a;r("150b");var cr=r("bc3a"),ur=r.n(cr),dr=r("d67e"),mr=r.n(dr);s["default"].config.productionTip=!1,ur.a.defaults.baseURL="https://www.liulongbin.top:8888/api/private/v1/",ur.a.interceptors.request.use((function(e){return e.headers.Authorization=window.sessionStorage.getItem("token"),e})),s["default"].prototype.$http=ur.a,s["default"].component("tree-table",mr.a),s["default"].filter("dataFormat",(function(e){var t=new Date(e),r=t.getFullYear(),a=(t.getMonth()+1+"").padStart(2,"0"),n=(t.getDay()+"").padStart(2,"0"),s=(t.getHours()+"").padStart(2,"0"),o=(t.getMinutes()+"").padStart(2,"0"),i=(t.getSeconds()+"").padStart(2,"0");return"".concat(r,"-").concat(a,"-").concat(n," ").concat(s,":").concat(o,":").concat(i)})),new s["default"]({router:Me,store:He,render:function(e){return e(m)}}).$mount("#app")},"5bc8":function(e,t,r){},6977:function(e,t,r){"use strict";var a=r("5bc8"),n=r.n(a);n.a},"754b":function(e,t,r){},"851e":function(e,t,r){"use strict";var a=r("4694"),n=r.n(a);n.a},9676:function(e,t,r){"use strict";var a=r("fdc8"),n=r.n(a);n.a},d70a:function(e,t,r){},fdc8:function(e,t,r){}});
//# sourceMappingURL=app.58e667c7.js.map